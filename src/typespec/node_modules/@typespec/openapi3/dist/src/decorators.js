import { createStateSymbol, reportDiagnostic } from "./lib.js";
const refTargetsKey = createStateSymbol("refs");
export const $useRef = (context, entity, refUrl) => {
    context.program.stateMap(refTargetsKey).set(entity, refUrl);
};
export function getRef(program, entity) {
    return program.stateMap(refTargetsKey).get(entity);
}
const oneOfKey = createStateSymbol("oneOf");
export const $oneOf = (context, entity) => {
    if (entity.kind === "ModelProperty" && entity.type.kind !== "Union") {
        reportDiagnostic(context.program, {
            code: "oneof-union",
            target: context.decoratorTarget,
        });
    }
    context.program.stateMap(oneOfKey).set(entity, true);
};
export function getOneOf(program, entity) {
    return program.stateMap(oneOfKey).get(entity);
}
//# sourceMappingURL=decorators.js.map