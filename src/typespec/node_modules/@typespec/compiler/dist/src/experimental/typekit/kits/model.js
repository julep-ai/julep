import { createRekeyableMap } from "../../../utils/misc.js";
import { defineKit } from "../define-kit.js";
import { decoratorApplication } from "../utils.js";
export const ModelKit = defineKit({
    model: {
        create(desc) {
            const properties = createRekeyableMap(Array.from(Object.entries(desc.properties)));
            const model = this.program.checker.createType({
                kind: "Model",
                name: desc.name ?? "",
                decorators: decoratorApplication(desc.decorators),
                properties: properties,
                expression: desc.name === undefined,
                node: undefined,
                derivedModels: desc.derivedModels ?? [],
                sourceModels: desc.sourceModels ?? [],
            });
            this.program.checker.finishType(model);
            return model;
        },
        is(type) {
            return type.kind === "Model";
        },
    },
});
//# sourceMappingURL=model.js.map