import "../common";

using Common;

namespace Files;

//
// FILE MODELS
//

model File {
    ...HasId;
    ...HasCreatedAt;

    /** Name of the file */
    name: identifierSafeUnicode;

    /** Description of the file */
    description: string = "";

    /** MIME type of the file */
    mime_type: mimeType | null = null;

    /** Base64 encoded content of the file */
    content: string;

    /** Size of the file in bytes */
    @visibility(Lifecycle.Read)
    @minValue(1)
    size: uint64;

    /** Hash of the file */
    @visibility(Lifecycle.Read)
    hash: string;
}

/** Payload for creating a file */
@withVisibility(Lifecycle.Create)
model CreateFileRequest {
    ...File;
}
