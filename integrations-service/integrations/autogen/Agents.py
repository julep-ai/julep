# generated by datamodel-codegen:
#   filename:  openapi-1.0.0.yaml

from __future__ import annotations

from typing import Annotated, Any
from uuid import UUID

from pydantic import AwareDatetime, BaseModel, ConfigDict, Field, RootModel


class Agent(BaseModel):
    model_config = ConfigDict(
        populate_by_name=True,
    )
    id: Annotated[UUID, Field(json_schema_extra={"readOnly": True})]
    metadata: dict[str, Any] | None = None
    created_at: Annotated[AwareDatetime, Field(json_schema_extra={"readOnly": True})]
    """
    When this resource was created as UTC date-time
    """
    updated_at: Annotated[AwareDatetime, Field(json_schema_extra={"readOnly": True})]
    """
    When this resource was updated as UTC date-time
    """
    name: Annotated[str, Field(max_length=255, min_length=1)]
    """
    Name of the agent
    """
    canonical_name: Annotated[
        str | None,
        Field(max_length=255, min_length=1, pattern="^[a-zA-Z][a-zA-Z0-9_]*$"),
    ] = None
    """
    Canonical name of the agent
    """
    about: Annotated[str, Field(max_length=1000)] = ""
    """
    About the agent
    """
    model: Annotated[str, Field(max_length=100, min_length=1)] = ""
    """
    Model name to use (gpt-4-turbo, gemini-nano etc)
    """
    instructions: Instructions | InstructionsModel = []
    """
    Instructions for the agent
    """
    default_settings: dict[str, Any] | None = None
    """
    Default settings for all sessions created by this agent
    """
    default_system_template: str = '{%- if agent.name -%}\nYou are {{agent.name}}.{{" "}}\n{%- endif -%}\n\n{%- if agent.about -%}\nAbout you: {{agent.about}}.{{" "}}\n{%- endif -%}\n\n{%- if user -%}\nYou are talking to a user\n  {%- if user.name -%}{{" "}} and their name is {{user.name}}\n    {%- if user.about -%}. About the user: {{user.about}}.{%- else -%}.{%- endif -%}\n  {%- endif -%}\n{%- endif -%}\n\n{{NEWLINE}}\n\n{%- if session.situation -%}\nSituation: {{session.situation}}\n{%- endif -%}\n\n{{NEWLINE+NEWLINE}}\n\n{%- if agent.instructions -%}\nInstructions:{{NEWLINE}}\n  {%- if agent.instructions is string -%}\n    {{agent.instructions}}{{NEWLINE}}\n  {%- else -%}\n    {%- for instruction in agent.instructions -%}\n      - {{instruction}}{{NEWLINE}}\n    {%- endfor -%}\n  {%- endif -%}\n  {{NEWLINE}}\n{%- endif -%}\n\n{%- if docs -%}\nRelevant documents:{{NEWLINE}}\n  {%- for doc in docs -%}\n    {{doc.title}}{{NEWLINE}}\n    {%- if doc.content is string -%}\n      {{doc.content}}{{NEWLINE}}\n    {%- else -%}\n      {%- for snippet in doc.content -%}\n        {{snippet}}{{NEWLINE}}\n      {%- endfor -%}\n    {%- endif -%}\n    {{"---"}}\n  {%- endfor -%}\n{%- endif -%}'
    """
    Default system template for all sessions created by this agent
    """


class CreateAgentRequest(BaseModel):
    """
    Payload for creating a agent (and associated documents)
    """

    model_config = ConfigDict(
        populate_by_name=True,
    )
    metadata: dict[str, Any] | None = None
    name: Annotated[str, Field(max_length=255, min_length=1)]
    """
    Name of the agent
    """
    canonical_name: Annotated[
        str | None,
        Field(max_length=255, min_length=1, pattern="^[a-zA-Z][a-zA-Z0-9_]*$"),
    ] = None
    """
    Canonical name of the agent
    """
    about: Annotated[str, Field(max_length=1000)] = ""
    """
    About the agent
    """
    model: Annotated[str, Field(max_length=100, min_length=1)] = ""
    """
    Model name to use (gpt-4-turbo, gemini-nano etc)
    """
    instructions: InstructionsModel1 | InstructionsModel2 = []
    """
    Instructions for the agent
    """
    default_settings: dict[str, Any] | None = None
    """
    Default settings for all sessions created by this agent
    """
    default_system_template: str = '{%- if agent.name -%}\nYou are {{agent.name}}.{{" "}}\n{%- endif -%}\n\n{%- if agent.about -%}\nAbout you: {{agent.about}}.{{" "}}\n{%- endif -%}\n\n{%- if user -%}\nYou are talking to a user\n  {%- if user.name -%}{{" "}} and their name is {{user.name}}\n    {%- if user.about -%}. About the user: {{user.about}}.{%- else -%}.{%- endif -%}\n  {%- endif -%}\n{%- endif -%}\n\n{{NEWLINE}}\n\n{%- if session.situation -%}\nSituation: {{session.situation}}\n{%- endif -%}\n\n{{NEWLINE+NEWLINE}}\n\n{%- if agent.instructions -%}\nInstructions:{{NEWLINE}}\n  {%- if agent.instructions is string -%}\n    {{agent.instructions}}{{NEWLINE}}\n  {%- else -%}\n    {%- for instruction in agent.instructions -%}\n      - {{instruction}}{{NEWLINE}}\n    {%- endfor -%}\n  {%- endif -%}\n  {{NEWLINE}}\n{%- endif -%}\n\n{%- if docs -%}\nRelevant documents:{{NEWLINE}}\n  {%- for doc in docs -%}\n    {{doc.title}}{{NEWLINE}}\n    {%- if doc.content is string -%}\n      {{doc.content}}{{NEWLINE}}\n    {%- else -%}\n      {%- for snippet in doc.content -%}\n        {{snippet}}{{NEWLINE}}\n      {%- endfor -%}\n    {%- endif -%}\n    {{"---"}}\n  {%- endfor -%}\n{%- endif -%}'
    """
    Default system template for all sessions created by this agent
    """


class CreateOrUpdateAgentRequest(CreateAgentRequest):
    model_config = ConfigDict(
        populate_by_name=True,
    )
    id: UUID
    metadata: dict[str, Any] | None = None
    name: Annotated[str, Field(max_length=255, min_length=1)]
    """
    Name of the agent
    """
    canonical_name: Annotated[
        str | None,
        Field(max_length=255, min_length=1, pattern="^[a-zA-Z][a-zA-Z0-9_]*$"),
    ] = None
    """
    Canonical name of the agent
    """
    about: Annotated[str, Field(max_length=1000)] = ""
    """
    About the agent
    """
    model: Annotated[str, Field(max_length=100, min_length=1)] = ""
    """
    Model name to use (gpt-4-turbo, gemini-nano etc)
    """
    instructions: InstructionsModel3 | InstructionsModel4 = []
    """
    Instructions for the agent
    """
    default_settings: dict[str, Any] | None = None
    """
    Default settings for all sessions created by this agent
    """
    default_system_template: str = '{%- if agent.name -%}\nYou are {{agent.name}}.{{" "}}\n{%- endif -%}\n\n{%- if agent.about -%}\nAbout you: {{agent.about}}.{{" "}}\n{%- endif -%}\n\n{%- if user -%}\nYou are talking to a user\n  {%- if user.name -%}{{" "}} and their name is {{user.name}}\n    {%- if user.about -%}. About the user: {{user.about}}.{%- else -%}.{%- endif -%}\n  {%- endif -%}\n{%- endif -%}\n\n{{NEWLINE}}\n\n{%- if session.situation -%}\nSituation: {{session.situation}}\n{%- endif -%}\n\n{{NEWLINE+NEWLINE}}\n\n{%- if agent.instructions -%}\nInstructions:{{NEWLINE}}\n  {%- if agent.instructions is string -%}\n    {{agent.instructions}}{{NEWLINE}}\n  {%- else -%}\n    {%- for instruction in agent.instructions -%}\n      - {{instruction}}{{NEWLINE}}\n    {%- endfor -%}\n  {%- endif -%}\n  {{NEWLINE}}\n{%- endif -%}\n\n{%- if docs -%}\nRelevant documents:{{NEWLINE}}\n  {%- for doc in docs -%}\n    {{doc.title}}{{NEWLINE}}\n    {%- if doc.content is string -%}\n      {{doc.content}}{{NEWLINE}}\n    {%- else -%}\n      {%- for snippet in doc.content -%}\n        {{snippet}}{{NEWLINE}}\n      {%- endfor -%}\n    {%- endif -%}\n    {{"---"}}\n  {%- endfor -%}\n{%- endif -%}'
    """
    Default system template for all sessions created by this agent
    """


class Instructions(RootModel[str]):
    model_config = ConfigDict(
        populate_by_name=True,
    )
    root: Annotated[str, Field(max_length=10000)] = []
    """
    Instructions for the agent
    """


class InstructionsModel(RootModel[list[str]]):
    model_config = ConfigDict(
        populate_by_name=True,
    )
    root: Annotated[list[str], Field(max_length=10000)] = []
    """
    Instructions for the agent
    """


class InstructionsModel1(Instructions):
    pass


class InstructionsModel2(InstructionsModel):
    pass


class InstructionsModel3(Instructions):
    pass


class InstructionsModel4(InstructionsModel):
    pass


class InstructionsModel5(Instructions):
    pass


class InstructionsModel6(InstructionsModel):
    pass


class InstructionsModel7(Instructions):
    pass


class InstructionsModel8(InstructionsModel):
    pass


class PatchAgentRequest(BaseModel):
    """
    Payload for patching a agent
    """

    model_config = ConfigDict(
        populate_by_name=True,
    )
    metadata: dict[str, Any] | None = None
    name: Annotated[str | None, Field(max_length=255, min_length=1)] = None
    """
    Name of the agent
    """
    canonical_name: Annotated[
        str | None,
        Field(max_length=255, min_length=1, pattern="^[a-zA-Z][a-zA-Z0-9_]*$"),
    ] = None
    """
    Canonical name of the agent
    """
    about: Annotated[str, Field(max_length=1000)] = ""
    """
    About the agent
    """
    model: Annotated[str, Field(max_length=100, min_length=1)] = ""
    """
    Model name to use (gpt-4-turbo, gemini-nano etc)
    """
    instructions: InstructionsModel5 | InstructionsModel6 = []
    """
    Instructions for the agent
    """
    default_settings: dict[str, Any] | None = None
    """
    Default settings for all sessions created by this agent
    """
    default_system_template: str = '{%- if agent.name -%}\nYou are {{agent.name}}.{{" "}}\n{%- endif -%}\n\n{%- if agent.about -%}\nAbout you: {{agent.about}}.{{" "}}\n{%- endif -%}\n\n{%- if user -%}\nYou are talking to a user\n  {%- if user.name -%}{{" "}} and their name is {{user.name}}\n    {%- if user.about -%}. About the user: {{user.about}}.{%- else -%}.{%- endif -%}\n  {%- endif -%}\n{%- endif -%}\n\n{{NEWLINE}}\n\n{%- if session.situation -%}\nSituation: {{session.situation}}\n{%- endif -%}\n\n{{NEWLINE+NEWLINE}}\n\n{%- if agent.instructions -%}\nInstructions:{{NEWLINE}}\n  {%- if agent.instructions is string -%}\n    {{agent.instructions}}{{NEWLINE}}\n  {%- else -%}\n    {%- for instruction in agent.instructions -%}\n      - {{instruction}}{{NEWLINE}}\n    {%- endfor -%}\n  {%- endif -%}\n  {{NEWLINE}}\n{%- endif -%}\n\n{%- if docs -%}\nRelevant documents:{{NEWLINE}}\n  {%- for doc in docs -%}\n    {{doc.title}}{{NEWLINE}}\n    {%- if doc.content is string -%}\n      {{doc.content}}{{NEWLINE}}\n    {%- else -%}\n      {%- for snippet in doc.content -%}\n        {{snippet}}{{NEWLINE}}\n      {%- endfor -%}\n    {%- endif -%}\n    {{"---"}}\n  {%- endfor -%}\n{%- endif -%}'
    """
    Default system template for all sessions created by this agent
    """


class UpdateAgentRequest(BaseModel):
    """
    Payload for updating a agent
    """

    model_config = ConfigDict(
        populate_by_name=True,
    )
    metadata: dict[str, Any] | None = None
    name: Annotated[str, Field(max_length=255, min_length=1)]
    """
    Name of the agent
    """
    canonical_name: Annotated[
        str | None,
        Field(max_length=255, min_length=1, pattern="^[a-zA-Z][a-zA-Z0-9_]*$"),
    ] = None
    """
    Canonical name of the agent
    """
    about: Annotated[str, Field(max_length=1000)] = ""
    """
    About the agent
    """
    model: Annotated[str, Field(max_length=100, min_length=1)] = ""
    """
    Model name to use (gpt-4-turbo, gemini-nano etc)
    """
    instructions: InstructionsModel7 | InstructionsModel8 = []
    """
    Instructions for the agent
    """
    default_settings: dict[str, Any] | None = None
    """
    Default settings for all sessions created by this agent
    """
    default_system_template: str = '{%- if agent.name -%}\nYou are {{agent.name}}.{{" "}}\n{%- endif -%}\n\n{%- if agent.about -%}\nAbout you: {{agent.about}}.{{" "}}\n{%- endif -%}\n\n{%- if user -%}\nYou are talking to a user\n  {%- if user.name -%}{{" "}} and their name is {{user.name}}\n    {%- if user.about -%}. About the user: {{user.about}}.{%- else -%}.{%- endif -%}\n  {%- endif -%}\n{%- endif -%}\n\n{{NEWLINE}}\n\n{%- if session.situation -%}\nSituation: {{session.situation}}\n{%- endif -%}\n\n{{NEWLINE+NEWLINE}}\n\n{%- if agent.instructions -%}\nInstructions:{{NEWLINE}}\n  {%- if agent.instructions is string -%}\n    {{agent.instructions}}{{NEWLINE}}\n  {%- else -%}\n    {%- for instruction in agent.instructions -%}\n      - {{instruction}}{{NEWLINE}}\n    {%- endfor -%}\n  {%- endif -%}\n  {{NEWLINE}}\n{%- endif -%}\n\n{%- if docs -%}\nRelevant documents:{{NEWLINE}}\n  {%- for doc in docs -%}\n    {{doc.title}}{{NEWLINE}}\n    {%- if doc.content is string -%}\n      {{doc.content}}{{NEWLINE}}\n    {%- else -%}\n      {%- for snippet in doc.content -%}\n        {{snippet}}{{NEWLINE}}\n      {%- endfor -%}\n    {%- endif -%}\n    {{"---"}}\n  {%- endfor -%}\n{%- endif -%}'
    """
    Default system template for all sessions created by this agent
    """
